# -*- coding:utf-8 -*-
# @Time : 2023/8/9 19:05
# @Author : Ch1nJ33
# @Project : 0x03 Python_Script_Chin
# @File : cidr.py
# @Description :

from IPy import IP
import os
import sys
import getopt
from alive_progress import alive_bar

ali_yun = ['39.96.0.0/13', '39.104.0.0/14', '39.108.0.0/16', '42.96.128.0/17', '42.120.0.0/15', '42.156.128.0/17', '43.230.32.0/22', '43.250.12.0/22', '45.112.208.0/22', '45.112.212.0/22', '45.112.216.0/22', '45.112.220.0/22', '47.92.0.0/14', '47.96.0.0/11', '59.82.0.0/15', '59.110.0.0/15', '60.205.0.0/16', '101.37.0.0/16', '101.132.0.0/14', '101.200.0.0/15', '103.15.96.0/22', '103.89.100.0/22', '103.212.44.0/22', '103.216.108.0/22', '106.11.0.0/16', '110.75.0.0/17', '110.75.160.0/19', '110.75.192.0/18', '110.76.32.0/19', '110.173.192.0/19', '112.74.0.0/15', '112.124.0.0/14', '114.215.0.0/16', '115.28.0.0/15', '115.124.16.0/20', '116.251.64.0/18', '118.31.0.0/16', '118.178.0.0/16', '118.190.0.0/16', '119.38.208.0/20', '120.24.0.0/14', '120.76.0.0/14', '121.0.16.0/20', '121.40.0.0/14', '121.89.0.0/16', '121.196.0.0/14', '123.56.0.0/15', '139.5.160.0/22', '139.129.0.0/16', '139.196.0.0/14', '139.224.0.0/16', '140.205.0.0/16', '157.119.240.0/22', '182.92.0.0/16', '203.107.0.0/17', '203.119.128.0/17', '218.244.128.0/17', '223.4.0.0/14']

tencent_yun = ['1.12.0.0/14', '1.116.0.0/15', '42.187.128.0/17', '42.192.0.0/15', '42.194.128.0/17', '43.136.0.0/13', '43.144.0.0/13', '43.176.0.0/12', '43.242.252.0/22', '43.247.196.0/22', '43.250.160.0/22', '45.40.192.0/18', '49.51.0.0/16', '49.232.0.0/14', '58.87.64.0/18', '62.234.0.0/16', '81.68.0.0/14', '82.156.0.0/15', '94.191.0.0/17', '101.33.128.0/17', '101.34.0.0/15', '101.42.0.0/15', '101.244.0.0/16', '103.7.28.0/22', '103.18.208.0/22', '103.18.212.0/22', '103.38.116.0/22', '103.42.24.0/22', '103.56.200.0/22', '103.95.224.0/22', '103.153.114.0/23', '103.234.0.0/22', '103.238.16.0/22', '106.52.0.0/14', '109.244.0.0/16', '114.117.0.0/17', '114.117.128.0/17', '114.132.0.0/16', '115.159.0.0/16', '118.24.0.0/15', '118.89.0.0/16', '118.195.128.0/17', '119.27.160.0/19', '119.28.0.0/15', '120.53.0.0/16', '121.4.0.0/15', '121.51.0.0/16', '122.51.0.0/16', '122.152.192.0/18', '123.206.0.0/15', '124.220.0.0/14', '128.108.0.0/16', '129.28.0.0/16', '129.204.0.0/16', '129.211.0.0/16', '132.232.0.0/16', '134.175.0.0/16', '139.155.0.0/16', '139.186.0.0/16', '140.143.0.0/16', '142.70.0.0/16', '142.86.0.0/16', '146.56.192.0/18', '148.70.0.0/16', '149.41.0.0/16', '150.158.0.0/16', '150.248.0.0/16', '152.136.0.0/16', '154.8.128.0/17', '158.79.0.0/16', '159.75.0.0/16', '161.120.0.0/16', '162.14.0.0/16', '172.81.192.0/18', '175.24.0.0/16', '175.27.0.0/16', '175.178.0.0/16', '182.254.0.0/16', '188.131.128.0/17', '192.144.128.0/17', '193.112.0.0/16', '203.195.128.0/17', '203.205.128.0/17', '210.74.32.0/19', '212.64.0.0/17', '212.129.128.0/17']

huawei_yun = ['1.92.0.0/15', '14.130.0.0/15', '43.254.0.0/22', '49.4.0.0/14', '60.204.0.0/16', '101.245.0.0/16', '103.161.220.0/23', '113.44.0.0/14', '114.116.0.0/16', '115.32.0.0/14', '115.120.0.0/14', '116.196.192.0/18', '116.204.0.0/17', '116.205.0.0/16', '117.100.0.0/15', '119.3.0.0/16', '120.46.0.0/16', '121.36.0.0/16', '121.37.0.0/16', '122.9.0.0/16', '122.112.128.0/17', '123.60.0.0/16', '123.249.0.0/16', '124.70.0.0/15', '139.9.0.0/16', '140.210.128.0/17', '180.86.0.0/16', '223.20.0.0/15', '223.201.0.0/16']

jinshan_yun = ['103.26.64.0/22', '120.92.0.0/16']

meituan_yun = ['27.112.112.0/22', '27.112.116.0/22', '43.241.208.0/22', '43.241.212.0/22', '43.241.216.0/22', '43.241.220.0/22', '43.241.224.0/22', '43.241.228.0/22', '43.241.232.0/22', '43.241.236.0/22', '45.122.60.0/22', '45.122.64.0/22', '45.122.68.0/22', '45.122.72.0/22', '45.122.76.0/22', '45.122.80.0/22', '45.122.84.0/22', '45.122.88.0/22', '45.122.92.0/22', '45.122.104.0/22', '45.122.108.0/22', '45.122.112.0/22', '45.122.116.0/22', '45.122.160.0/22', '45.122.164.0/22', '45.122.168.0/22', '45.122.172.0/22', '45.122.176.0/22', '45.122.180.0/22', '45.122.184.0/22', '45.122.188.0/22', '45.123.44.0/22', '45.123.48.0/22', '45.123.52.0/22', '45.123.56.0/22', '45.123.60.0/22', '45.123.64.0/22', '45.123.68.0/22', '45.123.72.0/22', '45.123.164.0/22', '45.123.168.0/22', '45.123.172.0/22', '45.123.176.0/22', '45.123.180.0/22', '45.123.184.0/22', '101.50.8.0/22', '101.50.12.0/22', '101.236.0.0/14', '103.37.136.0/22', '103.37.140.0/22', '103.37.144.0/22', '103.37.148.0/22', '103.37.152.0/22', '103.37.156.0/22', '103.37.160.0/22', '103.37.164.0/22', '103.62.160.0/22', '103.62.164.0/22', '103.62.168.0/22', '103.62.172.0/22', '103.62.176.0/22', '103.62.180.0/22', '103.62.184.0/22', '103.62.188.0/22', '103.62.192.0/22', '103.62.212.0/22', '103.62.216.0/22', '103.62.220.0/22', '103.62.224.0/22', '103.63.32.0/22', '103.63.36.0/22', '103.63.40.0/22', '103.63.44.0/22', '103.63.48.0/22', '103.63.52.0/22', '103.63.56.0/22', '103.63.60.0/22', '103.63.160.0/22', '103.63.164.0/22', '103.63.168.0/22', '103.63.172.0/22', '103.63.176.0/22', '103.63.180.0/22', '103.63.184.0/22', '103.63.192.0/22', '103.192.8.0/22', '103.192.12.0/22', '103.192.16.0/22', '103.192.20.0/22', '103.192.24.0/22', '103.192.28.0/22', '103.200.136.0/22', '103.200.140.0/22', '103.200.144.0/22', '103.200.148.0/22', '103.200.152.0/22', '103.200.156.0/22', '103.200.160.0/22', '103.200.164.0/22', '103.200.168.0/22', '103.200.172.0/22', '103.200.176.0/22', '103.200.180.0/22', '103.200.184.0/22', '103.200.188.0/22', '103.200.192.0/22', '103.201.4.0/22', '103.201.8.0/22', '103.201.12.0/22', '103.201.16.0/22', '103.201.20.0/22', '103.201.28.0/22', '103.201.32.0/22', '103.201.36.0/22', '103.201.40.0/22', '103.201.44.0/22', '103.201.48.0/22', '103.201.52.0/22', '103.201.56.0/22', '103.201.60.0/22', '103.201.64.0/22', '103.201.76.0/22', '103.201.80.0/22', '103.201.84.0/22', '103.201.88.0/22', '103.201.92.0/22', '103.201.96.0/22', '103.201.100.0/22', '103.201.104.0/22', '103.201.108.0/22', '103.201.112.0/22', '103.201.116.0/22', '103.201.120.0/22', '103.201.152.0/22', '103.201.156.0/22', '103.201.160.0/22', '103.201.164.0/22', '103.201.168.0/22', '103.201.172.0/22', '103.201.176.0/22', '103.201.180.0/22', '103.201.184.0/22', '103.201.188.0/22', '103.201.220.0/22', '103.201.224.0/22', '103.201.228.0/22', '103.201.232.0/22', '103.201.236.0/22', '103.201.240.0/22', '103.201.244.0/22', '103.201.248.0/22', '103.201.252.0/22', '103.202.0.0/22', '103.202.4.0/22', '103.202.8.0/22', '103.202.12.0/22', '103.202.16.0/22', '103.202.20.0/22', '103.202.24.0/22', '103.202.28.0/22', '103.202.32.0/22', '103.202.36.0/22', '103.202.40.0/22', '103.202.44.0/22', '103.202.56.0/22', '103.202.60.0/22', '103.202.64.0/22', '103.202.68.0/22', '103.202.72.0/22', '103.202.76.0/22', '103.202.80.0/22', '103.202.84.0/22', '103.202.88.0/22', '103.202.92.0/22', '103.202.96.0/22', '103.202.100.0/22', '103.202.104.0/22', '103.202.108.0/22', '103.202.112.0/22', '103.202.120.0/22', '103.202.124.0/22', '103.202.128.0/22', '103.202.132.0/22', '103.202.136.0/22', '103.202.140.0/22', '103.202.144.0/22', '110.34.40.0/22', '110.34.44.0/22', '110.76.132.0/22', '110.92.68.0/22', '111.92.248.0/22', '111.92.252.0/22', '113.52.228.0/22', '116.68.136.0/22', '116.68.140.0/22', '116.68.176.0/22', '116.68.180.0/22', '116.197.160.0/22', '116.197.164.0/22', '116.254.104.0/22', '116.254.108.0/22', '122.128.100.0/22', '122.200.40.0/22', '122.200.44.0/22', '123.242.192.0/22', '123.242.196.0/22', '123.254.96.0/22', '123.254.100.0/22', '175.158.96.0/22', '175.176.156.0/22', '180.94.120.0/22', '180.94.124.0/22', '180.178.112.0/22', '180.178.116.0/22', '180.233.144.0/22', '182.16.144.0/22', '182.16.148.0/22', '182.237.24.0/22', '182.237.28.0/22', '183.78.160.0/22', '183.78.164.0/22', '202.5.208.0/22', '202.5.212.0/22', '202.5.216.0/22', '202.10.112.0/22', '202.10.116.0/22', '202.10.120.0/22', '202.10.124.0/22', '202.21.48.0/22', '202.21.52.0/22', '202.21.56.0/22', '202.21.60.0/22', '202.47.96.0/22', '202.47.100.0/22', '202.65.100.0/22', '202.65.104.0/22', '202.65.108.0/22', '202.71.32.0/22', '202.71.36.0/22', '202.71.40.0/22', '202.71.44.0/22', '202.72.112.0/22', '202.72.116.0/22', '202.72.120.0/22', '202.72.124.0/22', '202.73.240.0/22', '202.73.244.0/22', '202.73.248.0/22', '202.73.252.0/22', '202.81.176.0/22', '202.81.180.0/22', '202.81.184.0/22', '202.81.188.0/22', '202.88.32.0/22', '202.90.16.0/22', '202.90.24.0/22', '202.90.28.0/22', '202.90.96.0/22', '202.90.100.0/22', '202.90.104.0/22', '202.90.108.0/22', '202.134.208.0/22', '202.134.212.0/22', '202.134.216.0/22', '202.134.220.0/22', '202.140.144.0/22', '202.140.148.0/22', '202.140.152.0/22', '202.140.156.0/22', '202.143.104.0/22', '202.179.160.0/22', '202.179.164.0/22', '202.179.168.0/22', '202.179.172.0/22', '203.76.208.0/22', '203.76.212.0/22', '203.76.216.0/22']

jd_yun = ['1.118.0.0/16', '101.124.0.0/15', '103.224.220.0/22', '111.228.0.0/14', '116.198.0.0/16', '117.72.0.0/15', '122.12.0.0/16', '123.62.0.0/16', '170.179.0.0/16']

baidu_wangxun = ['103.6.76.0/22', '103.125.44.0/22', '106.12.0.0/14', '114.110.64.0/18', '114.111.0.0/19', '117.58.0.0/17', '119.75.208.0/20', '120.48.0.0/15', '122.248.48.0/20', '150.242.120.0/22', '180.76.0.0/16', '182.61.0.0/16', '202.181.112.0/20']

wangyi_keji = ['42.186.0.0/16', '45.127.128.0/22', '45.253.96.0/22', '45.253.100.0/22', '45.253.104.0/22', '45.253.108.0/22', '45.253.112.0/22', '45.253.116.0/22', '45.253.132.0/22', '45.253.136.0/22', '45.253.140.0/22', '45.253.144.0/22', '45.253.148.0/22', '45.253.152.0/22', '45.253.156.0/22', '45.253.160.0/22', '45.253.164.0/22', '45.253.168.0/22', '45.253.172.0/22', '45.253.176.0/22', '45.253.180.0/22', '45.253.184.0/22', '45.253.188.0/22', '45.253.192.0/22', '45.253.196.0/22', '45.253.200.0/22', '45.253.204.0/22', '45.253.208.0/22', '45.253.212.0/22', '45.253.216.0/22', '45.253.220.0/22', '45.253.224.0/22', '45.253.228.0/22', '45.253.232.0/22', '45.253.236.0/22', '45.253.240.0/22', '45.254.48.0/22', '45.254.52.0/22', '45.254.60.0/22', '45.254.64.0/22', '45.254.68.0/22', '45.254.72.0/22', '45.254.76.0/22', '45.254.80.0/22', '45.254.84.0/22', '45.254.88.0/22', '45.254.92.0/22', '45.254.100.0/22', '45.254.104.0/22', '45.254.108.0/22', '45.254.112.0/22', '45.254.116.0/22', '45.254.120.0/22', '45.254.124.0/22', '45.254.128.0/22', '45.254.136.0/22', '45.254.140.0/22', '45.254.144.0/22', '45.254.148.0/22', '45.254.156.0/22', '45.254.164.0/22', '45.254.176.0/22', '45.254.236.0/22', '45.254.240.0/22', '45.254.248.0/22', '45.255.72.0/22', '103.20.68.0/22', '103.71.120.0/22', '103.71.124.0/22', '103.71.128.0/22', '103.71.196.0/22', '103.71.200.0/22', '103.72.12.0/22', '103.72.16.0/22', '103.72.20.0/22', '103.72.24.0/22', '103.72.28.0/22', '103.72.32.0/22', '103.72.36.0/22', '103.72.40.0/22', '103.72.44.0/22', '103.72.48.0/22', '103.72.52.0/22', '103.72.128.0/22', '103.72.132.0/22', '103.74.24.0/22', '103.74.28.0/22', '103.74.32.0/22', '103.74.36.0/22', '103.74.40.0/22', '103.74.44.0/22', '103.74.48.0/22', '103.196.64.0/22', '203.217.164.0/22']

guanghuan_xinwang = ['43.192.0.0/14', '43.196.0.0/15', '43.241.88.0/22', '52.80.0.0/15', '52.82.0.0/15', '54.222.0.0/15', '68.79.0.0/18', '69.230.192.0/18', '69.231.128.0/18', '69.234.192.0/18', '69.235.128.0/18', '71.131.192.0/18', '71.132.0.0/18', '71.136.64.0/18', '71.137.0.0/18', '103.2.200.0/22', '103.3.84.0/22', '103.88.4.0/22', '103.88.8.0/22', '103.88.12.0/22', '103.88.20.0/22', '103.245.23.0/24', '140.179.0.0/16', '161.189.0.0/16', '203.86.80.0/20', '203.187.160.0/19']

youkede = ['42.240.128.0/17', '103.237.28.0/22', '106.75.0.0/16', '163.53.164.0/22']

xiaoniaoyun = ['43.226.32.0/22', '43.226.36.0/22', '43.226.40.0/22', '43.226.44.0/22', '43.226.64.0/22', '43.226.68.0/22', '43.226.72.0/22', '43.226.76.0/22', '43.226.144.0/22', '43.226.148.0/22', '43.226.152.0/22', '43.226.156.0/22', '43.226.168.0/22', '43.226.172.0/22', '43.226.176.0/22', '43.226.180.0/22', '43.226.184.0/22', '43.226.188.0/22', '43.226.192.0/22', '43.226.196.0/22', '43.226.200.0/22', '43.226.204.0/22', '43.226.208.0/22', '43.226.212.0/22', '43.226.240.0/22', '43.226.244.0/22', '43.226.248.0/22', '43.226.252.0/22', '43.227.0.0/22', '43.227.4.0/22', '43.227.36.0/22', '43.227.40.0/22', '43.227.44.0/22', '43.227.48.0/22', '43.227.64.0/22', '43.227.68.0/22', '43.227.72.0/22', '43.227.76.0/22', '43.227.80.0/22', '43.227.84.0/22', '43.227.88.0/22', '43.227.92.0/22', '43.227.96.0/22', '43.227.100.0/22', '43.249.152.0/22', '43.249.156.0/22', '43.249.160.0/22', '43.249.164.0/22', '103.39.160.0/22', '103.39.164.0/22', '103.39.168.0/22', '103.39.172.0/22', '103.39.176.0/22', '103.39.180.0/22', '103.39.184.0/22', '103.39.188.0/22', '103.39.208.0/22', '103.39.212.0/22', '103.39.216.0/22', '103.39.220.0/22', '103.39.224.0/22', '103.39.228.0/22', '103.39.232.0/22', '103.40.16.0/22', '103.40.20.0/22', '103.40.24.0/22', '103.40.28.0/22', '103.40.32.0/22', '103.40.36.0/22', '103.40.40.0/22', '103.40.44.0/22', '103.40.240.0/22', '103.40.244.0/22', '103.40.248.0/22', '103.40.252.0/22', '103.44.236.0/22', '103.44.240.0/22', '103.44.244.0/22', '103.44.248.0/22', '103.44.252.0/22', '103.45.0.0/22', '103.45.4.0/22', '103.45.8.0/22', '103.45.12.0/22', '103.45.16.0/22', '103.45.20.0/22', '103.45.24.0/22', '103.45.28.0/22', '103.45.32.0/22', '103.45.36.0/22', '103.45.40.0/22', '103.45.44.0/22', '103.45.48.0/22', '103.45.52.0/22', '103.45.56.0/22', '103.45.60.0/22', '103.45.80.0/22', '103.45.84.0/22', '103.45.88.0/22', '103.45.92.0/22', '103.45.96.0/22', '103.45.100.0/22', '103.45.104.0/22', '103.45.108.0/22', '103.45.112.0/22', '103.45.116.0/22', '103.45.120.0/22', '103.45.124.0/22', '103.45.128.0/22', '103.45.132.0/22', '103.45.136.0/22', '103.45.140.0/22', '103.45.144.0/22', '103.45.148.0/22', '103.45.152.0/22', '103.45.156.0/22', '103.45.172.0/22', '103.45.176.0/22', '103.45.180.0/22', '103.45.184.0/22', '103.45.188.0/22', '103.45.192.0/22', '103.45.196.0/22', '103.45.200.0/22', '103.45.204.0/22', '103.45.208.0/22', '103.45.212.0/22', '103.45.216.0/22', '103.45.220.0/22', '103.45.248.0/22', '103.46.0.0/22', '103.46.152.0/22', '103.46.156.0/22', '103.46.160.0/22', '103.46.164.0/22', '103.46.172.0/22', '103.46.176.0/22', '103.46.180.0/22']

wangsu_keji = ['43.243.232.0/22', '45.250.12.0/22', '45.250.16.0/22', '45.250.76.0/22', '45.250.80.0/22', '45.250.84.0/22', '45.250.88.0/22', '45.250.92.0/22', '45.250.96.0/22', '45.250.104.0/22', '45.250.108.0/22', '45.250.112.0/22', '45.250.116.0/22', '45.250.120.0/22', '45.250.124.0/22', '45.250.128.0/22', '45.250.132.0/22', '45.250.136.0/22', '45.250.140.0/22', '45.250.144.0/22', '45.250.148.0/22', '61.29.128.0/18', '103.75.144.0/22', '103.218.8.0/22', '103.218.12.0/22', '103.218.16.0/22', '103.218.20.0/22', '103.218.28.0/22', '103.218.32.0/22', '103.218.36.0/22', '103.218.40.0/22', '103.218.44.0/22', '103.218.48.0/22', '103.218.52.0/22', '103.218.56.0/22', '103.218.60.0/22', '103.218.64.0/22', '103.218.68.0/22', '103.218.72.0/22', '103.218.76.0/22', '103.218.80.0/22', '103.218.84.0/22', '103.218.88.0/22', '103.254.188.0/22', '123.103.0.0/17', '125.171.0.0/16', '203.130.32.0/19', '203.212.0.0/20', '210.185.192.0/18', '210.192.96.0/19', '211.156.176.0/20', '220.242.0.0/15']

xinwang_shuma = ['36.0.64.0/18', '43.236.0.0/22', '43.236.4.0/22', '43.236.8.0/22', '43.236.12.0/22', '43.236.16.0/22', '43.236.20.0/22', '43.236.24.0/22', '43.236.28.0/22', '43.236.32.0/22', '43.236.36.0/22', '43.236.40.0/22', '43.236.44.0/22', '43.236.48.0/22', '43.236.52.0/22', '43.236.56.0/22', '43.236.60.0/22', '43.236.64.0/22', '43.236.68.0/22', '43.236.72.0/22', '43.236.76.0/22', '43.236.80.0/22', '43.236.84.0/22', '43.236.88.0/22', '43.236.92.0/22', '43.236.96.0/22', '43.236.100.0/22', '43.236.104.0/22', '43.236.108.0/22', '43.236.112.0/22', '43.236.116.0/22', '43.236.120.0/22', '43.236.124.0/22', '43.236.128.0/22', '43.236.132.0/22', '43.236.136.0/22', '43.236.140.0/22', '43.236.144.0/22', '43.236.148.0/22', '43.236.152.0/22', '43.236.156.0/22', '43.236.160.0/22', '43.236.164.0/22', '43.236.168.0/22', '43.236.172.0/22', '43.236.176.0/22', '43.236.180.0/22', '43.236.184.0/22', '43.236.188.0/22', '43.236.192.0/22', '43.236.196.0/22', '43.236.200.0/22', '43.236.204.0/22', '43.236.208.0/22', '43.236.212.0/22', '43.236.216.0/22', '43.236.220.0/22', '43.236.224.0/22', '43.236.228.0/22', '43.236.232.0/22', '43.236.236.0/22', '43.236.240.0/22', '43.236.244.0/22', '43.236.248.0/22', '43.236.252.0/22', '43.239.0.0/22', '43.239.4.0/22', '43.239.8.0/21', '43.239.16.0/22', '43.239.20.0/22', '43.239.24.0/22', '43.239.28.0/22', '43.239.32.0/22', '43.239.36.0/22', '43.239.40.0/22', '43.239.44.0/22', '43.239.48.0/22', '43.246.0.0/22', '43.246.4.0/22', '43.246.8.0/22', '43.246.12.0/22', '43.246.16.0/22', '43.246.20.0/22', '43.246.24.0/22', '43.246.28.0/22', '43.246.32.0/22', '43.246.36.0/22', '43.246.40.0/22', '43.246.44.0/22', '43.246.48.0/22', '43.246.52.0/22', '43.246.56.0/22', '43.246.60.0/22', '43.246.64.0/22', '43.246.68.0/22', '43.246.72.0/22', '43.246.76.0/22', '43.246.80.0/22', '43.246.84.0/22', '43.246.88.0/22', '43.246.92.0/22', '43.246.96.0/22', '101.78.32.0/19', '103.35.0.0/22', '103.35.4.0/22', '103.35.8.0/22', '103.35.12.0/22', '103.35.16.0/22', '103.35.20.0/22', '103.35.24.0/22', '103.35.28.0/22', '103.35.32.0/22', '103.35.36.0/22', '103.35.40.0/22', '103.35.44.0/22', '103.35.48.0/22', '103.236.0.0/22', '103.236.4.0/22', '103.236.8.0/22', '103.236.12.0/22', '103.236.16.0/22', '103.236.20.0/22', '103.236.24.0/22', '103.236.28.0/22', '103.236.32.0/22', '103.236.36.0/22', '103.236.40.0/22', '103.236.44.0/22', '103.236.48.0/22', '103.236.52.0/22', '103.236.56.0/22', '103.236.60.0/22', '103.236.64.0/22', '103.236.68.0/22', '103.236.72.0/22', '103.236.76.0/22', '103.236.80.0/22', '103.236.84.0/22', '103.236.88.0/22', '103.236.92.0/22', '103.236.96.0/22', '110.44.144.0/20', '119.10.0.0/17', '123.100.0.0/19', '202.10.64.0/20']


yun_list = [ali_yun,tencent_yun,huawei_yun,jinshan_yun,meituan_yun,jd_yun,baidu_wangxun,wangyi_keji,guanghuan_xinwang,youkede,xiaoniaoyun,wangsu_keji,xinwang_shuma]



def is_vps(ip):
    flag = 'no'
    for vps_s in yun_list:
        for vps in vps_s:
            # aaa = IP(ip) in IP(vps)
            if IP(ip) in IP(vps):
                # print(vps_s)
                flag = 'catch_it'
                break
        if flag == 'catch_it':
            break
    return flag


def get_and_write(file_path):
    print("[*] 开始检索--->")
    f = open(file_path, "r")
    contents = f.readlines()
    len_of_file = len(contents)
    file_path_new = str(file_path).replace('.txt','')
    file_path_new_yun_del = file_path_new + '_yun_del' + '.txt'
    file_name_new = os.path.basename(file_path_new_yun_del)
    with open(file_path_new_yun_del, 'w') as fip:
        with alive_bar(len_of_file, title="loading", bar="blocks", spinner='waves3') as bar:
            for i in contents:
                if is_vps(i) == 'no':
                    fip.write(i)
                bar()
    print("[*] IP_except_YUN_list is ", file_name_new)


def main():
    try:
        opts, args = getopt.getopt(sys.argv[1:], '-h-f:-v', ['help', 'filename=', 'version', 'output='])
    except getopt.GetoptError as err:
        print("[-] 参数错误", str(err))
        usage()
        sys.exit(2)

    output = None
    for opt, arg in opts:
        if opt in ('-h', '--help'):
            usage()
            sys.exit()
        elif opt in ('-v', '--version'):
            print("[*] 版本信息 Version is 1.01 ")
            exit()
        elif opt in ('-f', '--filename'):
            file_path = arg
            file_name = os.path.basename(file_path)
            print("[*] Filename is ", file_name)
            # do something
            get_and_write(file_path)
            exit()
        # elif opt == "--output":
        #     output = arg
        else:
            usage()
    usage()


def usage():
    print("usage: ip_YUN_delete.py [-f <ip_list.txt>] ")
    print("                        [-v] [--version] ")
    print("                        [-h] [--help]")

if __name__ == "__main__":
    print("""
 ___________  __   __           ______     _ 
|_   _| ___ \ \ \ / /           |  _  \   | |
  | | | |_/ /  \ V /   _ _ __   | | | |___| |
  | | |  __/    \ / | | | '_ \  | | | / _ \ |
 _| |_| |       | | |_| | | | | | |/ /  __/ |
 \___/\_|       \_/\__,_|_| |_| |___/ \___|_|
                           Powered by Ch1nJ33""")

    main()